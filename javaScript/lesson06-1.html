<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JavaScript</title>
        <link rel="stylesheet" href="../assets/css/style.css">
    </head>
    <body>
		<!--Página-Cabeçalho-->
		<header class="header"><h1>JavaScript</h1></header>
		<!--Página-Conteúdo-->
		<section class="content">
            <header><h2 class="content_title">Operators ES6</h2></header>
            <article class="post"> 
                <header><h3>Rest Operator</h3></header>
                <p class="post_content">
                    Transforma parâmetros da função em array.<br>
                    Permite receber quantidade indefinida de argumentos, independente da definição da função.<br>
                    <ul><h4>Usabilidade</h4>
                        <li>Functions Parameters (Recebendo argumentos)</li>
                    </ul>

                    Functions Parameters = Receber argumentos em uma função
                    <pre><code>
                        // ES5
                        // Usa-se palavra reservada "arguments" (Inexistente em Arrow Functions)
                        function sum(a, b){ 
                            console.log('arguments: ', arguments);
                            return a + b; 
                        }
                        function sum(a, b){
                            var value = 0;
                            for(var i=0; i &lt; arguments.length; i++){
                                value += arguments[i];
                                console.log('arguments[i]: ', arguments[i])
                            }
                            return value;
                        }

                        // ES6
                        function sum(...args){// Regular
                            console.log(args);
                            return args.reduce((total, nextValue) => total + nextValue, 0);
                        }
                        const sum = (...args) => {// Arrow
                            console.log(args); 
                            return args.reduce((total, nextValue) => total + nextValue, 0);
                        }
                        // Pode ser usado para pegar argumentos restantes
                        function sum(a, b, ...args){
                            console.log(a, b, args);
                            return a + b + args.reduce((total, nextValue) => total + nextValue, 0);
                        } 
                    </code></pre>
                </p>
            
                <header><h3>Spread Operator</h3></header>
                <p class="post_content">
                    Transforma objetos e arrays em parametros.
                    Permite quebrar os itens do array e repassar para algum lugar.
                    <ul><h4>Usabilidade</h4>
                        <li>Functions Parameters (Enviando argumentos: Objetos Iterables (Array, String))</li>
                        <li>Construção de NOVAS estruturas (Objetos Iterables e Literais)</li>
                    </ul>

                    Functions Parameters = Arrays (Object Iterable)
                    <pre><code>
                        var arr = [1, 2, 3];                
                        function fn(x, y, z){ 
                            console.log(x, y, z) 
                        };
                        fn(...arr);
                    </code></pre>
                    Functions Parameters = String (Object Iterable)
                    <pre><code>
                        const str = 'Digital Innovation One';
                        function logArgs(...args){
                            console.log(args);
                        }
                        logArgs(...str);
                    </code></pre>
                    Construção de NOVAS estruturas = Arrays (Objetos Iterables)
                    <pre><code>
                        var arr1 = [1, 2, 3];
                        var arr2 = [4, 5, 6];

                        // ES5
                            var arr3 = [4, 5, 6].concat(arr1); // [4, 5, 6, 1, 2, 3]
                            var arr3 = arr1.concat(arr2);      // [1, 2, 3, 4, 5, 6]
                        // ES6
                            var arr3 = [4, 5, 6, ...arr1]; // [4, 5, 6,  1, 2, 3]
                            var arr3 = [...arr1, 4, 5, 6]; // [1, 2, 3, 4, 5, 6]                 
                            var arr3 = [...arr1, ...arr2]; // [1, 2, 3, 4, 5, 6]
                            var arr3 = ['x',...arr1,'y'];  // ['x', 1, 2, 3, 'y']
                            var arr3 = [...arr1,...arr2,...arr3] 
                            var arr3 = [...arr1]; // [1, 2, 3]  
                    </code></pre>
                    Construção de NOVAS estruturas = Objetos Literais
                    <pre><code>
                        const obj1 = { test1: 123 };

                        // Construção de NOVOS objetos (NÃO altera objetos já definidos)
                        const obj2 = { ...obj1, test2: 456 };     // { test1: 123, test2: 456 }
                        const obj3 = { ...obj1, test2: 'teste' }; // { test1: 789, test2: 'teste' }

                        // Objetos literables não podem ser usados para construir objetos iterables.
                        var arr = [...obj1]; // Uncaught TypeError: obj1 is not iterable

                        // A ORDEM importa (Propriedades com mesmo nome) = Prevalece o último
                        const obj4 = {...obj1, test1: 456}; // { test1: 456 } 
                        const obj5 = {test1: 456, ...obj1}; // { test1: 123 } 
                        const obj6 = {...obj4, ...obj5};    // { test1: 123 } 
                    </code></pre>
                    
                </ul>
                </p>
           
                <header><h3>Rest Operator vs Spread Operator</h3></header>
                <p class="post_content">
                    <ul><h4>Resumindo</h4>
                        <li>Rest (Transforma parm em array) e Spread (Transforma array em parm)</li>
                        <li>Ambos possuem a mesma sintaxe: ...name</li>
                    </ul>

                    <b class="text-red">BOA PRÁTICA:</b> Tipos de referência NUNCA devem ser copiados diretamente, porque a referência também é copiada, assim sempre que um for alterado, será replicado para o outro também.<br>
                    Sendo assim, é RECOMENDADO sempre criar NOVAS estruturas, e o <b>Spread</b> é uma das boas formas de fazer isso em um formato não verbosa, mais simples e legível.<br>
                </p>

                <header><h3>Destructuring Assigment</h3></header>
                <p class="post_content">
                    Atribuição via desestruturação.<br>
                    Expressão que possibilita extrair dados de arrays ou objetos em variáveis distintas.
                    <ul><h4>Usabilidade</h4>
                        <li>Declaration of variables</li>
                        <li>Functions Arguments</li>
                    </ul>

                    <pre><code>
                        // EXEMPLO: OBJETO
                        // São nomeados, o que importa são os nomes, e não a ordenação
                        const obj = { name: 'Heviane', lastName: 'Bastos', age: 39 };
                        const { age, name } = obj;

                        // EXEMPLO: ARRAY
                        // São indexados, o que importa é a ordenação, e não os nomes
                        const arr = [ 'Heviane', 'Bastos', 39];
                        const [ nome , , idade ] = arr;
                    </code></pre>

                </p>
            </article>

            <article class="post"> 
                <header><h3>References</h3></header>
                <p class="post_content">
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" 
                        target="_blank">Reference/Functions/rest_parameters</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" 
                        target="_blank">Reference/Operators/Spread_syntax</a></li>
                    <li><a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" 
                        target="_blank">Reference/Operators/Destructuring_assignment</a></li>
                </p>
            </article>
        </section>
        <!--Página-Rodapé-->
        <footer class="footer">
            <div class="footer_list">
                <li><a href="https://www.linkedin.com/in/heviane-bastos" target="_blank">linkedin</a></li>
                <li><a href="https://github.com/heviane" target="_blank">github</a></li>				
            </div>
        </footer>
    </body>
</html>